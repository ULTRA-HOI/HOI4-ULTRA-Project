infantry_templates = {
	ger_heavy_template_1 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = GER
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_gpmg
				has_tech = infantry_heavy_light_mortar
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_guns_at_rifle
				has_tech = anti_tank_1
				has_tech = infantry_heavy_light_ig
				has_tech = infantry_heavy_heavy_ig
			} else = {
				date > 1939.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '39"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_h_gpmg
					heavy_infantry_slot_2 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_light
					heavy_infantry_slot_6 = heavy_inf_bat_at_rifle
					heavy_infantry_slot_8 = empty
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_light_ig
					heavy_infantry_slot_3 = heavy_inf_reg_heavy_ig
					heavy_infantry_slot_5 = heavy_inf_reg_at_1
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_gpmg } }
					set_technology = { infantry_guns_gpmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_mortar } }
					set_technology = { infantry_heavy_light_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_at_rifle } }
					set_technology = { infantry_guns_at_rifle = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_1 } }
					set_technology = { anti_tank_1 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_ig } }
					set_technology = { infantry_heavy_light_ig = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_ig } }
					set_technology = { infantry_heavy_heavy_ig = 1 popup = no }
				}
			}
		}
	}
	
	ger_heavy_template_2 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = GER
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_gpmg
				has_tech = infantry_heavy_light_mortar
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_guns_at_rifle_impr
				has_tech = anti_tank_2
				has_tech = anti_air_1
				has_tech = infantry_heavy_light_ig
				has_tech = infantry_heavy_heavy_ig
			} else = {
				date > 1941.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '41"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_h_gpmg
					heavy_infantry_slot_2 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_light
					heavy_infantry_slot_6 = heavy_inf_bat_at_rifle_impr
					heavy_infantry_slot_8 = empty
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_light_ig
					heavy_infantry_slot_3 = heavy_inf_reg_heavy_ig
					heavy_infantry_slot_5 = heavy_inf_reg_at_2
					heavy_infantry_slot_7 = heavy_inf_reg_aa_1
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_gpmg } }
					set_technology = { infantry_guns_gpmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_mortar } }
					set_technology = { infantry_heavy_light_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_at_rifle_impr } }
					set_technology = { infantry_guns_at_rifle_impr = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_2 } }
					set_technology = { anti_tank_2 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_1 } }
					set_technology = { anti_air_1 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_ig } }
					set_technology = { infantry_heavy_light_ig = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_ig } }
					set_technology = { infantry_heavy_heavy_ig = 1 popup = no }
				}
			}
		}
	}
	
	ger_heavy_template_3 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = GER
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_gpmg
				has_tech = infantry_heavy_heavy_mortar
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_guns_at_rifle_impr
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = anti_tank_3
				has_tech = anti_air_1
				has_tech = infantry_heavy_light_ig
			} else = {
				date > 1942.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '42"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_h_gpmg
					heavy_infantry_slot_2 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_6 = heavy_inf_bat_at_rifle_impr
					heavy_infantry_slot_8 = heavy_inf_bat_sniper
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_light_ig
					heavy_infantry_slot_3 = heavy_inf_reg_aa_1
					heavy_infantry_slot_5 = heavy_inf_reg_at_3
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_gpmg } }
					set_technology = { infantry_guns_gpmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_at_rifle_impr } }
					set_technology = { infantry_guns_at_rifle_impr = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_3 } }
					set_technology = { anti_tank_3 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_1 } }
					set_technology = { anti_air_1 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_ig } }
					set_technology = { infantry_heavy_light_ig = 1 popup = no }
				}
			}
		}
	}
	
	ger_heavy_template_4 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = GER
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_impr_gpmg
				has_tech = infantry_heavy_heavy_mortar
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = anti_tank_3
				has_tech = anti_air_3
				has_tech = infantry_heavy_light_ig
			} else = {
				date > 1943.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '43"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_impr_h_gpmg
					heavy_infantry_slot_2 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_6 = heavy_inf_bat_sniper
					heavy_infantry_slot_8 = empty
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_light_ig
					heavy_infantry_slot_3 = heavy_inf_reg_aa_2
					heavy_infantry_slot_5 = heavy_inf_reg_at_3
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_impr_gpmg } }
					set_technology = { infantry_guns_impr_gpmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_3 } }
					set_technology = { anti_tank_3 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_3 } }
					set_technology = { anti_air_3 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_ig } }
					set_technology = { infantry_heavy_light_ig = 1 popup = no }
				}
			}
		}
	}
	
	ger_heavy_template_5 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = GER
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_impr_gpmg
				has_tech = infantry_heavy_heavy_mortar
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = anti_tank_3
				has_tech = anti_air_3
				has_tech = infantry_heavy_light_ig
				has_tech = infantry_guns_heavy_at_0
			} else = {
				date > 1944.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '44"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_impr_h_gpmg
					heavy_infantry_slot_2 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_6 = heavy_inf_bat_sniper
					heavy_infantry_slot_8 = heavy_inf_bat_heavy_at_0
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_light_ig
					heavy_infantry_slot_3 = heavy_inf_reg_aa_2
					heavy_infantry_slot_5 = heavy_inf_reg_at_3
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_impr_gpmg } }
					set_technology = { infantry_guns_impr_gpmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_3 } }
					set_technology = { anti_tank_3 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_3 } }
					set_technology = { anti_air_3 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_ig } }
					set_technology = { infantry_heavy_light_ig = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_heavy_at_0 } }
					set_technology = { infantry_guns_heavy_at_0 = 1 popup = no }
				}
			}
		}
	}
	
	ger_heavy_template_6 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = GER
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_impr_gpmg
				has_tech = infantry_heavy_heavy_mortar
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = anti_tank_4
				has_tech = anti_air_3
				has_tech = infantry_heavy_light_ig
				has_tech = infantry_guns_heavy_at_1
			} else = {
				date > 1945.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '45"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_impr_h_gpmg
					heavy_infantry_slot_2 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_6 = heavy_inf_bat_sniper
					heavy_infantry_slot_8 = heavy_inf_bat_heavy_at_1
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_light_ig
					heavy_infantry_slot_3 = heavy_inf_reg_aa_3
					heavy_infantry_slot_5 = heavy_inf_reg_at_3
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_impr_gpmg } }
					set_technology = { infantry_guns_impr_gpmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_4 } }
					set_technology = { anti_tank_4 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_3 } }
					set_technology = { anti_air_3 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_ig } }
					set_technology = { infantry_heavy_light_ig = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_heavy_at_1 } }
					set_technology = { infantry_guns_heavy_at_1 = 1 popup = no }
				}
			}
		}
	}
	
	
	sov_heavy_template_1 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = SOV
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = infantry_guns_hmg
				has_tech = infantry_heavy_light_ig
				has_tech = infantry_heavy_light_mortar
			} else = {
				date > 1937.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '37"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_sniper
					heavy_infantry_slot_2 = heavy_inf_bat_hmg
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_light
					heavy_infantry_slot_6 = empty
					heavy_infantry_slot_8 = empty
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_light_ig
					heavy_infantry_slot_3 = empty
					heavy_infantry_slot_5 = empty
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_hmg } }
					set_technology = { infantry_guns_hmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_ig } }
					set_technology = { infantry_heavy_light_ig = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_light_mortar } }
					set_technology = { infantry_heavy_light_mortar = 1 popup = no }
				}
			}
		}
	}
	
	sov_heavy_template_2 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = SOV
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = infantry_guns_hmg
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_heavy_heavy_mortar
			} else = {
				date > 1939.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '39"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_sniper
					heavy_infantry_slot_2 = heavy_inf_bat_hmg
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_6 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_8 = empty
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = empty
					heavy_infantry_slot_3 = empty
					heavy_infantry_slot_5 = empty
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_hmg } }
					set_technology = { infantry_guns_hmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
			}
		}
	}
	
	sov_heavy_template_3 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = SOV
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = infantry_guns_hmg
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_heavy_heavy_mortar
				has_tech = infantry_guns_at_rifle
				has_tech = anti_air_1
				has_tech = anti_tank_1
			} else = {
				date > 1941.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '41"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_sniper
					heavy_infantry_slot_2 = heavy_inf_bat_hmg
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_6 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_8 = heavy_inf_bat_at_rifle
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_aa_1
					heavy_infantry_slot_3 = heavy_inf_reg_at_1
					heavy_infantry_slot_5 = empty
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_hmg } }
					set_technology = { infantry_guns_hmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_at_rifle } }
					set_technology = { infantry_guns_at_rifle = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_1 } }
					set_technology = { anti_air_1 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_1 } }
					set_technology = { anti_tank_1 = 1 popup = no }
				}
			}
		}
	}
	
	sov_heavy_template_4 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = SOV
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = infantry_guns_hmg
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_heavy_heavy_mortar
				has_tech = infantry_guns_at_rifle
				has_tech = anti_air_3
				has_tech = anti_tank_2
			} else = {
				date > 1942.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '42"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_sniper
					heavy_infantry_slot_2 = heavy_inf_bat_hmg
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_6 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_8 = heavy_inf_bat_at_rifle
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_aa_2
					heavy_infantry_slot_3 = heavy_inf_reg_at_2
					heavy_infantry_slot_5 = empty
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_hmg } }
					set_technology = { infantry_guns_hmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_at_rifle } }
					set_technology = { infantry_guns_at_rifle = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_3 } }
					set_technology = { anti_air_3 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_2 } }
					set_technology = { anti_tank_2 = 1 popup = no }
				}
			}
		}
	}
	
	sov_heavy_template_5 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = SOV
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = infantry_guns_impr_hmg
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_heavy_heavy_mortar
				has_tech = infantry_guns_at_rifle
				has_tech = anti_air_3
				has_tech = anti_tank_2
			} else = {
				date > 1943.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '43"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_sniper
					heavy_infantry_slot_2 = heavy_inf_bat_impr_hmg
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_6 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_8 = heavy_inf_bat_at_rifle
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_aa_2
					heavy_infantry_slot_3 = heavy_inf_reg_at_2
					heavy_infantry_slot_5 = empty
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_impr_hmg } }
					set_technology = { infantry_guns_impr_hmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_at_rifle } }
					set_technology = { infantry_guns_at_rifle = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_3 } }
					set_technology = { anti_air_3 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_2 } }
					set_technology = { anti_tank_2 = 1 popup = no }
				}
			}
		}
	}
	
	sov_heavy_template_6 = { 
	
		icon = generic_industry
	
		allowed = {
			original_tag = SOV
		}
		
		visible = {
			NOT = {
				has_country_flag = inf_templates_hidden
			}
		}
	
		available = {
			if = {
				limit = { is_ai = no }
				has_tech = infantry_guns_bolt_action_sniper
				has_tech = infantry_guns_impr_hmg
				has_tech = infantry_heavy_medium_mortar
				has_tech = infantry_heavy_heavy_mortar
				has_tech = anti_air_4
				has_tech = anti_tank_3
			} else = {
				date > 1945.1.1
			}
		}
		
		cost = 0
		fire_only_once = yes
			
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			create_equipment_variant = {
				name = "Battalion Support '45"
				type = heavy_infantry_equipment_0
				parent_version = 0
				modules = {
					# Battalion Slots
					heavy_infantry_slot_0 = heavy_inf_bat_sniper
					heavy_infantry_slot_2 = heavy_inf_bat_impr_hmg
					heavy_infantry_slot_4 = heavy_inf_bat_mortar_medium
					heavy_infantry_slot_6 = heavy_inf_bat_mortar_heavy
					heavy_infantry_slot_8 = empty
					heavy_infantry_slot_10 = empty
					
					
					heavy_infantry_slot_1 = heavy_inf_reg_aa_3
					heavy_infantry_slot_3 = heavy_inf_reg_at_3
					heavy_infantry_slot_5 = empty
					heavy_infantry_slot_7 = empty
					heavy_infantry_slot_9 = empty
					heavy_infantry_slot_11 = empty
				}
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_tech = infantry_guns_bolt_action_sniper } }
					set_technology = { infantry_guns_bolt_action_sniper = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_guns_impr_hmg } }
					set_technology = { infantry_guns_impr_hmg = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_medium_mortar } }
					set_technology = { infantry_heavy_medium_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = infantry_heavy_heavy_mortar } }
					set_technology = { infantry_heavy_heavy_mortar = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_air_4 } }
					set_technology = { anti_air_4 = 1 popup = no }
				}
				if = {
					limit = { NOT = { has_tech = anti_tank_3 } }
					set_technology = { anti_tank_3 = 1 popup = no }
				}
			}
		}
	}
}
